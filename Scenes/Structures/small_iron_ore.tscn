[gd_scene load_steps=22 format=3 uid="uid://g0gksnwxs5jw"]

[ext_resource type="Script" uid="uid://1sd1p5id6chv" path="res://Scripts/Structures/big_rock.gd" id="1_7ioqt"]
[ext_resource type="Script" uid="uid://dyyxnso5r2v7u" path="res://Scripts/Classes/Loot.gd" id="2_v2ket"]
[ext_resource type="Resource" uid="uid://cswffe5r7l2nt" path="res://Resources/Items/rock.tres" id="3_7ioqt"]
[ext_resource type="Script" uid="uid://765xp7t6esuk" path="res://Scripts/Classes/ItemStacks/ItemStack.gd" id="4_7ioqt"]
[ext_resource type="Texture2D" uid="uid://cah4eabrcytye" path="res://Assets/Textures/Objects/rock.png" id="4_bd73c"]
[ext_resource type="Resource" uid="uid://svpcok83144e" path="res://Resources/Items/iron_ore.tres" id="4_v2ket"]
[ext_resource type="AudioStream" uid="uid://85qmoqvrgdq3" path="res://Assets/Sounds/hit-rock.mp3" id="6_7ioqt"]

[sub_resource type="Resource" id="Resource_yyisc"]
script = ExtResource("4_7ioqt")
item = ExtResource("3_7ioqt")
amount = 5
metadata/_custom_type_script = "uid://765xp7t6esuk"

[sub_resource type="Resource" id="Resource_7ioqt"]
script = ExtResource("2_v2ket")
item_stack = SubResource("Resource_yyisc")
chance = 100
metadata/_custom_type_script = "uid://dyyxnso5r2v7u"

[sub_resource type="Resource" id="Resource_t88rf"]
script = ExtResource("4_7ioqt")
item = ExtResource("4_v2ket")
metadata/_custom_type_script = "uid://765xp7t6esuk"

[sub_resource type="Resource" id="Resource_bd73c"]
script = ExtResource("2_v2ket")
item_stack = SubResource("Resource_t88rf")
chance = 100
metadata/_custom_type_script = "uid://dyyxnso5r2v7u"

[sub_resource type="Resource" id="Resource_jde0m"]
script = ExtResource("4_7ioqt")
item = ExtResource("4_v2ket")
metadata/_custom_type_script = "uid://765xp7t6esuk"

[sub_resource type="Resource" id="Resource_5tmr7"]
script = ExtResource("2_v2ket")
item_stack = SubResource("Resource_jde0m")
chance = 25
metadata/_custom_type_script = "uid://dyyxnso5r2v7u"

[sub_resource type="AtlasTexture" id="AtlasTexture_5cn61"]
atlas = ExtResource("4_bd73c")
region = Rect2(16, 16, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_prn5e"]
atlas = ExtResource("4_bd73c")
region = Rect2(32, 16, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_v2ket"]
atlas = ExtResource("4_bd73c")
region = Rect2(48, 16, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_7ioqt"]
atlas = ExtResource("4_bd73c")
region = Rect2(64, 16, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_6jbqd"]
atlas = ExtResource("4_bd73c")
region = Rect2(0, 16, 16, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fkqk2"]
size = Vector2(48, 60)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_6jbqd"]
polygon = PackedVector2Array(0, -2, 0, -34, 4, -34, 4, -42, 8, -42, 8, -50, 12, -50, 12, -54, 16, -54, 16, -58, 36, -58, 36, -54, 44, -54, 44, -50, 48, -50, 48, -6, 44, -6, 44, -2, 40, -2, 40, 2, 4, 2, 4, -2)

[sub_resource type="CircleShape2D" id="CircleShape2D_iou6s"]
radius = 34.0147

[node name="SmallIronOre" type="StaticBody2D" groups=["Persistant"]]
collision_layer = 1040
collision_mask = 0
script = ExtResource("1_7ioqt")
max_hp = 15
drops = Array[ExtResource("2_v2ket")]([SubResource("Resource_7ioqt"), SubResource("Resource_bd73c"), SubResource("Resource_5tmr7")])
broken_textures = Array[Texture]([SubResource("AtlasTexture_5cn61"), SubResource("AtlasTexture_prn5e"), SubResource("AtlasTexture_v2ket"), SubResource("AtlasTexture_7ioqt")])
metadata/_custom_type_script = "uid://d3001nb6tmga0"

[node name="Sprite2D" type="Sprite2D" parent="."]
z_index = 3
texture_filter = 1
position = Vector2(2, 6)
scale = Vector2(4, 4)
texture = SubResource("AtlasTexture_6jbqd")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(2, 8)
shape = SubResource("RectangleShape2D_fkqk2")

[node name="VisibleOnScreenEnabler2D" type="VisibleOnScreenEnabler2D" parent="."]
position = Vector2(2, -36)
show_rect = false
enable_node_path = NodePath("")

[node name="LightOccluder2D" type="LightOccluder2D" parent="."]
position = Vector2(-22, 36)
occluder = SubResource("OccluderPolygon2D_6jbqd")

[node name="EntityCollision" type="StaticBody2D" parent="."]
position = Vector2(-22, 36)
collision_layer = 128
collision_mask = 64

[node name="CollisionShape2D" type="CollisionShape2D" parent="EntityCollision"]
position = Vector2(24, -26)
shape = SubResource("CircleShape2D_iou6s")

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("6_7ioqt")
volume_db = -9.0
